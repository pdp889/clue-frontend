(this["webpackJsonpclue-frontend"]=this["webpackJsonpclue-frontend"]||[]).push([[0],{17:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},29:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(23),s=n.n(c),o=(n(29),n(16),n(4)),i=n.n(o),l=n(7),u=n(2),d=(n(8),n(21),n(42)),j=n(0);function b(e){var t=Object(r.useState)({}),n=Object(u.a)(t,2),a=n[0],c=n[1],s={suspects:["Mustard","Plum","Green","Peacock","Scarlet","White"],weapons:["Knife","Candlestick","Revolver","Rope","Lead Pipe","Wrench"],rooms:["Hall","Lounge","Dining Room","Kitchen","Ballroom","Conservatory","Billiard Room","Library","Study"]};s.allCards=[].concat(s.suspects,s.weapons,s.rooms);var o={};s.allCards.forEach((function(e){o[e]=e})),o.Candlestick="Candls.",o["Lead Pipe"]="Ld. Pipe",o["Dining Room"]="Din. Rm.",o.Conservatory="Cons.",o["Billiard Room"]="Bil. Rm.",Object(r.useEffect)((function(){b()}),[a]);var b=function(){var t=Object(l.a)(i.a.mark((function t(){var n,r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://smart-clue-backend.herokuapp.com/boardSummary",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a=r,o={},s.allCards.forEach((function(e){null===a[e]?o[e]="":o[e]=a[e]})),c(o);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"border-end border-5 clue-table-border-color",children:Object(j.jsxs)("table",{className:"table table-bordered clue-table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Card"}),Object(j.jsx)("th",{scope:"col",className:"SearchIcon",children:Object(j.jsx)(d.a,{})})]})}),Object(j.jsx)("tbody",{children:s.allCards.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:o[e]}),Object(j.jsx)("td",{className:"playerNameOnTable",children:a[e]})]},71+t)}))})]})})}var h=n(43),m=n(44),f=n(45),p=n(46);function O(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),o=Object(u.a)(s,2),d=o[0],O=o[1],x=Object(r.useState)(!1),v=Object(u.a)(x,2),g=v[0],y=v[1];Object(r.useEffect)((function(){N(),k()}),[a]);var k=function(){var t=[];a.length>0&&(e.clueCard.allCards.forEach((function(e){var n=[];a.forEach((function(t){n.push(Object(j.jsx)("td",{children:t.clueBreakdown[e]}))})),t.push(Object(j.jsx)("tr",{children:n.map((function(e){return e}))}))})),O(t))},N=function(){var t=Object(l.a)(i.a.mark((function t(){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://smart-clue-backend.herokuapp.com/board",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a=[],Array.from(r).forEach((function(t){var n={};e.clueCard.allCards.forEach((function(e){0===t.tracking_obj[e]?n[e]=Object(j.jsx)(h.a,{color:"lightgrey"}):1===t.tracking_obj[e]?n[e]=Object(j.jsx)(m.a,{"font-weight":"bold",color:"darkgreen"}):n[e]=Object(j.jsx)(f.a,{"font-weight":"bold",color:"red"})}));var r={id:t._id,name:t.name,clueBreakdown:n};a.push(r)})),c(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){y(!g)};return g?Object(j.jsxs)("div",{className:"d-flex flex-row bg-clue-secondary padding-2",children:[Object(j.jsx)(b,{token:e.token,clueCard:e.ClueCard}),Object(j.jsxs)("table",{className:"table table-bordered clue-table",children:[Object(j.jsx)("thead",{className:"thead-dark",children:Object(j.jsx)("tr",{children:a.map((function(e,t){return Object(j.jsx)("th",{scope:"col",className:"playerNameOnTable",children:e.name})}))})}),Object(j.jsx)("tbody",{children:d})]}),Object(j.jsx)("button",{className:"no-detail-button expand-close",onClick:C,children:Object(j.jsx)(p.a,{})})]}):Object(j.jsxs)("div",{className:"d-flex flex-row bg-clue-secondary padding-2",children:[Object(j.jsx)(b,{token:e.token,clueCard:e.ClueCard}),Object(j.jsx)("button",{className:"no-detail-button expand-close",onClick:C,children:Object(j.jsx)(p.a,{})})]})}n(17);function x(e){var t={};e.clueCard.allCards.forEach((function(e){t[e]=0}));var n=Object(r.useState)(""),a=Object(u.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(0),i=Object(u.a)(o,2),l=i[0],d=i[1],b=Object(r.useState)([]),h=Object(u.a)(b,2),m=h[0],f=h[1],p=function(){var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({name:c,tracking_obj:t,is_user_player:"false",number_cards:l})};fetch("https://smart-clue-backend.herokuapp.com/addPlayer",n).then((function(e){return e.json()})).then((function(t){if(void 0!==t.errors){var n=Array.from(t.errors),r=[];n.forEach((function(e){r.push(e.msg+"; ")})),f(r)}else s(""),d(0),e.refresh()}))};return Object(j.jsxs)("div",{className:"card bg-clue-secondary",children:[Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h1",{children:"Add Opponent"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p()},children:[Object(j.jsx)("label",{htmlFor:"name",children:"Nickname (6 Characters or Less)"}),Object(j.jsx)("input",{onChange:function(e){return s(e.target.value)},type:"text",name:"name",className:"form-control",autoComplete:"off",maxLength:"6",value:c}),Object(j.jsx)("label",{htmlFor:"cardsNumber",children:"Number of Cards"}),Object(j.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"number",name:"cardsNumber",className:"form-control",autoComplete:"off",value:l,min:"1",max:"6"}),Object(j.jsx)("input",{type:"submit",className:"btn btn-primary record-submit",value:"Add Opponent"})]})]}),m]})}function v(e){var t={};e.clueCard.allCards.forEach((function(e){t[e]=!1}));var n=Object(r.useState)(t),a=Object(u.a)(n,2),c=a[0],s=a[1],o=function(e){return e.map((function(e,t){return Object(j.jsxs)("div",{className:"form-check",children:[Object(j.jsx)("label",{htmlFor:e,children:e}),Object(j.jsx)("input",{onChange:function(t){return function(e){var t=Object.assign({},c);t[e]=!t[e],s(t)}(e)},type:"checkbox",name:e,className:"form-check-input",value:c[{value:e}]},e+""+19*t)]})}))};return Object(j.jsx)("div",{className:"bg-clue-secondary",children:Object(j.jsxs)("form",{onSubmit:function(t){!function(t){t.preventDefault();var n=0;e.clueCard.allCards.forEach((function(e){c[e]&&n++})),e.setUserNumberCards&&e.setUserNumberCards(n),e.arrayFromForm(c)}(t)},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("h4",{children:"Suspects"}),o(e.clueCard.suspects)]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("h4",{children:"Weapons"}),o(e.clueCard.weapons)]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("h4",{children:"Rooms"}),o(e.clueCard.rooms)]}),Object(j.jsx)("input",{type:"submit",className:"btn btn-primary record-submit",value:"Add Cards"})]})})}function g(e){var t=Object(r.useState)(!0),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(u.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)([]),b=Object(u.a)(d,2),h=b[0],m=b[1],f=Object(r.useState)(0),p=Object(u.a)(f,2),O=p[0],x=p[1],g={};e.clueCard.allCards.forEach((function(e){g[e]=-1}));var y=Object(r.useState)(g),k=Object(u.a)(y,2),N=k[0],C=k[1],w=function(){var t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({name:i,tracking_obj:N,is_user_player:"true",number_cards:O})};fetch("https://smart-clue-backend.herokuapp.com/addPlayer",t).then((function(e){return e.json()})).then((function(t){if(void 0!==t.errors){var n=Array.from(t.errors),r=[];n.forEach((function(e){r.push(e.msg+"; ")})),m(r)}else l(""),C({}),c(!0),e.refresh()}))};return a?Object(j.jsxs)("div",{className:"card bg-clue-secondary",children:[Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h1",{children:"Add User Cards"}),Object(j.jsx)(v,{arrayFromForm:function(t){var n={};e.clueCard.allCards.forEach((function(e){n[e]=t[e]?1:-1})),C(n),c(!1)},clueCard:e.clueCard,setUserNumberCards:x})]}),h]}):Object(j.jsxs)("div",{className:"card bg-clue-secondary",children:[Object(j.jsx)("button",{onClick:function(){c(!a)},children:"Change cards"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h1",{children:"Add User Information"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w()},children:[Object(j.jsx)("label",{htmlFor:"name",children:"Nickname (6 Characters or Less)"}),Object(j.jsx)("input",{onChange:function(e){return l(e.target.value)},type:"text",name:"name",className:"form-control",autoComplete:"off",maxLength:"6",value:i}),Object(j.jsx)("input",{type:"submit",className:"btn btn-primary record-submit",value:"Add User"})]})]}),h]})}function y(e){var t=function(t){var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({_id:e.value.id})};fetch("https://smart-clue-backend.herokuapp.com/removePlayer",n).then((function(e){return e.json()})).then((function(t){if(void 0!==t.errors){var n=Array.from(t.errors),r=[];n.forEach((function(e){r.push(e.msg+"; ")})),alert(r)}else e.addRemove();return e.value.is_user_player&&window.location.reload(),t}))};return e.value.is_user_player?(e.userFormToFalse(),Object(j.jsxs)("div",{className:"card player-card",children:[Object(j.jsxs)("p",{children:["Name: ",e.value.name]}),Object(j.jsxs)("p",{children:["Number of Cards: ",e.value.number_cards]}),Object(j.jsx)("button",{className:"btn btn-primary w-70",onClick:t,children:"Remove User"})]},11*e.index)):Object(j.jsxs)("div",{className:"card player-card",children:[Object(j.jsxs)("p",{children:["Name: ",e.value.name]}),Object(j.jsxs)("p",{children:["Number of Cards: ",e.value.number_cards]}),Object(j.jsx)("button",{className:"btn btn-primary w-70",onClick:t,children:"Remove Player"})]},11*e.index)}function k(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(0),o=Object(u.a)(s,2),d=o[0],b=o[1],h=function(){b(d+1)};Object(r.useEffect)((function(){m()}),[d,e.addCount]);var m=function(){var t=Object(l.a)(i.a.mark((function t(){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://smart-clue-backend.herokuapp.com/board",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a=[],Array.from(r).forEach((function(e){var t={id:e._id,name:e.name,is_user_player:e.is_user_player,number_cards:e.number_cards};console.log(t),a.push(t)})),c(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f="bg-clue-secondary card "+e.hidden;return Object(j.jsx)("div",{className:f,children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h1",{children:"Player List"}),a.map((function(t,n){return Object(j.jsx)(y,{value:t,index:n,addRemove:h,token:e.token,userFormToFalse:e.userFormToFalse},17*n)}))]})})}function N(e){var t=e.clueCard,n=Object(r.useState)(0),a=Object(u.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(!0),i=Object(u.a)(o,2),l=i[0],d=i[1],b=function(){s(c+1)},h=function(){d(!1)};return l?Object(j.jsxs)("div",{className:"row bg-clue-secondary vh-96 padding-2 main-content",children:[Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(g,{token:e.token,refresh:b,clueCard:t,userFormSubmitted:h})}),Object(j.jsx)("div",{className:"col playerlist",children:Object(j.jsx)(k,{addCount:c,token:e.token,hidden:"hidden",userFormToFalse:h})})]}):Object(j.jsxs)("div",{className:"row bg-clue-secondary vh-96 padding-2 main-content",children:[Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(x,{token:e.token,refresh:b,clueCard:t})}),Object(j.jsx)("div",{className:"col playerlist",children:Object(j.jsx)(k,{addCount:c,token:e.token,hidden:"",userFormToFalse:h})})]})}var C=n(12);n(34);function w(e){var t=function(){sessionStorage.clear(),e.setToken("")},n=function(){var t=Object(l.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://smart-clue-backend.herokuapp.com/endGame",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:t.sent,e.setGameStarted(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(l.a)(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://smart-clue-backend.herokuapp.com/startGame",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:(r=t.sent).error?alert(r.error):e.setGameStarted(r);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.gameStarted?Object(j.jsxs)("div",{className:"d-flex justify-content-between bg-clue-primary header",children:[Object(j.jsxs)("div",{className:"d-flex padding-05 min-width-300",children:[Object(j.jsx)(C.b,{className:"text-decoration-none text-clue-primary margin-02 header-hover min-width-150",to:"/addMove",children:Object(j.jsx)("div",{className:"header-word-div",children:"Add Move"})}),Object(j.jsx)(C.b,{className:"text-decoration-none text-clue-primary margin-02 header-hover min-width-150",to:"/",children:Object(j.jsx)("div",{className:"header-word-div",children:"Game Board"})})]}),Object(j.jsxs)("div",{className:"d-flex padding-05 min-width-300",children:[Object(j.jsx)("div",{className:"text-decoration-none text-clue-primary margin-02-right header-hover min-width-150",onClick:n,children:Object(j.jsx)("div",{className:"header-word-div",children:"End Game"})}),Object(j.jsx)("div",{className:"text-decoration-none text-clue-primary margin-02-right header-hover min-width-150",onClick:t,children:Object(j.jsx)("div",{className:"header-word-div",children:"Log Out"})})]})]}):Object(j.jsxs)("div",{className:"d-flex justify-content-between bg-clue-primary header",children:[Object(j.jsx)("div",{className:"text-decoration-none text-clue-primary margin-02 header-hover min-width-150",onClick:r,children:"Go to Game"}),Object(j.jsx)(C.b,{className:"text-decoration-none text-clue-primary margin-02 header-hover min-width-150",to:"/",children:Object(j.jsx)("div",{children:"Forms"})}),Object(j.jsx)("div",{className:"text-decoration-none text-clue-primary margin-02 header-hover min-width-150",onClick:t,children:Object(j.jsx)("div",{className:"header-word-div",children:"Log Out"})})]})}function S(e){var t=Object(r.useState)(!0),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)("cards not loaded"),o=Object(u.a)(s,2),d=(o[0],o[1]),b=Object(r.useState)([{}]),h=Object(u.a)(b,2),m=h[0],f=h[1],p=Object(r.useState)(""),O=Object(u.a)(p,2),x=O[0],g=O[1],y=Object(r.useState)([]),k=Object(u.a)(y,2),N=k[0],C=k[1],w=Object(r.useState)("Unknown"),S=Object(u.a)(w,2),T=S[0],F=S[1],E=Object(r.useState)(!1),_=Object(u.a)(E,2),A=_[0],P=_[1],B=Object(r.useState)([]),L=Object(u.a)(B,2),G=L[0],R=L[1],U={};e.clueCard.allCards.forEach((function(e){U[e]=null})),Object(r.useEffect)((function(){D()}),[]);var D=function(){var t=Object(l.a)(i.a.mark((function t(){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://smart-clue-backend.herokuapp.com/board",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a=[],Array.from(r).forEach((function(e){var t={id:e._id,name:e.name,numberCards:e.number_cards};a.push(t)})),f(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){c(!a)},I=function(t){t.preventDefault(),function(){if(""===x)R("player not selected");else if(A&&"Unknown"!==T)alert("You selected a card value and noted that no card was shown to you. This will not be submitted."),window.location.reload();else{var t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({playerId:x,request:N,cardshown:T,all_no:A})};fetch("https://smart-clue-backend.herokuapp.com/addMove",t).then((function(e){return e.json()})).then((function(e){if(void 0!==e.errors){var t=Array.from(e.errors),n=[];t.forEach((function(e){n.push(e.msg+"; ")})),R(n)}else g(""),C([]),F("Unknown"),P(!1),c(!0),d("")}))}}()};return a?Object(j.jsxs)("div",{className:"card bg-clue-secondary vw-100 vh-96 padding-2",children:[Object(j.jsx)("h2",{children:"What was the suggestion made?"}),Object(j.jsx)(v,{arrayFromForm:function(t){var n=[];e.clueCard.allCards.forEach((function(e){t[e]&&n.push(e)})),C(n),J(),d("cards loaded")},clueCard:e.clueCard})]}):Object(j.jsxs)("div",{className:"w-50 bg-clue-secondary vh-96 vw-100 padding-2",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(j.jsx)("h2",{children:"Suggestion Details"}),Object(j.jsx)("button",{className:"btn btn-outline-link",onClick:J,children:"Change cards?"})]}),Object(j.jsxs)("form",{onSubmit:function(e){I(e)},children:[Object(j.jsx)("label",{htmlFor:"player",children:"Player"}),Object(j.jsxs)("select",{name:"player",value:x,className:"form-select",onChange:function(e){g(e.target.value)},children:[Object(j.jsx)("option",{}),m.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.name},t)}))]}),Object(j.jsx)("label",{htmlFor:"allno",children:"All No?"}),Object(j.jsxs)("select",{name:"allno",className:"form-select",value:A,onChange:function(e){P(e.target.value)},children:[Object(j.jsx)("option",{value:!0,children:"true"}),Object(j.jsx)("option",{value:!1,children:"false"})]}),Object(j.jsx)("label",{htmlFor:"cardShown",children:"Card Shown"}),Object(j.jsxs)("select",{name:"cardShown",className:"form-select",value:T,onChange:function(e){F(e.target.value)},children:[Object(j.jsx)("option",{value:"Unknown",children:"Unknown"}),e.clueCard.allCards.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))]}),Object(j.jsx)("input",{type:"submit",className:"btn btn-primary record-submit",value:"Add Move"})]}),G]})}var T=n(5);n(22);function F(e){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://smart-clue-backend.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){var t=Object(r.useState)(),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),o=Object(u.a)(s,2),d=o[0],b=o[1],h=Object(r.useState)(""),m=Object(u.a)(h,2),p=m[0],O=m[1],x=function(){var t=Object(l.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,F({username:a,password:d});case 3:(r=t.sent).error&&O(r.error),e.setToken(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"login-signup text-clue-primary bg-clue-primary w-100",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(j.jsx)("h3",{children:"Log In"}),Object(j.jsx)("button",{className:"btn btn-outline-link text-clue-primary",onClick:e.toggle,children:Object(j.jsx)(f.a,{})})]}),Object(j.jsxs)("form",{onSubmit:x,children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"username",children:"Username"}),Object(j.jsx)("input",{type:"text",name:"username",className:"form-control",onChange:function(e){return c(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return b(e.target.value)}})]}),Object(j.jsx)("div",{className:"login-signup-button",children:Object(j.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})})]}),Object(j.jsx)("div",{className:"text-danger",children:p})]})}function A(e){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://smart-clue-backend.herokuapp.com/createNewUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){var t=Object(r.useState)(),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),o=Object(u.a)(s,2),d=o[0],b=o[1],h=Object(r.useState)(""),m=Object(u.a)(h,2),f=m[0],p=m[1],O=function(){var t=Object(l.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,A({username:a,password:d});case 3:(r=t.sent).error&&p(r.error),e.setToken(r),console.log(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"login-signup bg-clue-primary text-clue-primary w-100",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(j.jsx)("h3",{children:"Sign Up"}),Object(j.jsx)("button",{className:"btn btn-outline-link text-clue-primary",onClick:e.toggle,children:"Back"})]}),Object(j.jsxs)("form",{onSubmit:O,children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"username",children:"Username"}),Object(j.jsx)("input",{type:"text",name:"username",className:"form-control",onChange:function(e){return c(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return b(e.target.value)}})]}),Object(j.jsx)("div",{className:"login-signup-button",children:Object(j.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})})]}),Object(j.jsx)("div",{className:"text-danger",children:f})]})}function L(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),o=Object(u.a)(s,2),i=o[0],l=o[1],d=function(){c(!0!==a)},b=function(){l(!0!==i)};return i?Object(j.jsx)(_,{setToken:e.setToken,toggle:b}):a?Object(j.jsx)(B,{setToken:e.setToken,toggle:d}):Object(j.jsxs)("div",{className:"main-login-section d-flex flex-column justify-content-around text-clue-primary bg-clue-primary",children:[Object(j.jsx)("h2",{className:"title d-flex justify-content-around",children:"Clue Helper"}),Object(j.jsxs)("div",{className:"body-login-section d-flex flex-column justify-content-around align-items-center",children:[Object(j.jsx)("button",{className:" login-signup-button btn btn-primary btn-lg",onClick:d,children:"Sign Up"}),Object(j.jsx)("button",{className:" login-signup-button btn btn-primary btn-lg",onClick:b,children:"Log In"})]})]})}var G=function(){var e=function(){var e=Object(r.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(u.a)(e,2),n=t[0],a=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:n}}(),t=e.token,n=e.setToken,a=function(){var e=Object(r.useState)(function(){var e=sessionStorage.getItem("gameStarted"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.message}()),t=Object(u.a)(e,2),n=t[0],a=t[1];return{setMessage:function(e){sessionStorage.setItem("gameStarted",JSON.stringify(e)),a(e.message)},message:n}}(),c=a.message,s=a.setMessage,o={suspects:["Mustard","Plum","Green","Peacock","Scarlet","White"],weapons:["Knife","Candlestick","Revolver","Rope","Lead Pipe","Wrench"],rooms:["Hall","Lounge","Dining Room","Kitchen","Ballroom","Conservatory","Billiard Room","Library","Study"]};return o.allCards=[].concat(o.suspects,o.weapons,o.rooms),t?c?Object(j.jsxs)(C.a,{basename:"/clue-frontend",children:[Object(j.jsx)(w,{gameStarted:c,setGameStarted:s,token:t,setToken:n}),Object(j.jsxs)(T.c,{children:[Object(j.jsx)(T.a,{path:"/",exact:!0,render:function(e){return Object(j.jsx)(O,{clueCard:o,token:t})}}),Object(j.jsx)(T.a,{path:"/addMove",exact:!0,render:function(e){return Object(j.jsx)(S,{token:t,clueCard:o})}})]})]}):Object(j.jsxs)(C.a,{basename:"/clue-frontend",children:[Object(j.jsx)(w,{gameStarted:c,setGameStarted:s,token:t,setToken:n}),Object(j.jsx)(T.c,{children:Object(j.jsx)(T.a,{path:"/",exact:!0,render:function(e){return Object(j.jsx)(N,{token:t,clueCard:o})}})})]}):Object(j.jsx)("div",{className:"log-in-page bg-clue-secondary vh-100",children:Object(j.jsx)("div",{className:"d-flex flex-row justify-content-center ",children:Object(j.jsx)(L,{setToken:n})})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(G,{})}),document.getElementById("root")),R()},8:function(e,t,n){}},[[41,1,2]]]);
//# sourceMappingURL=main.8938e3aa.chunk.js.map